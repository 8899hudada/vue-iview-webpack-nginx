webpackJsonp([1],{"+skl":function(e,t){},"2O+V":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAANCAYAAAB2HjRBAAAAAXNSR0IArs4c6QAAASdJREFUKBWF0bFLAmEYx3HPTjSi4XDSRaOiOWhoy9U/oyFEcHCSxlojaDqhJudWSXCxJRGJVkHapMVoKAjHzu/v6j3e9NAHPj7P+zzv+3J3JhILEQTBEW4X2rHLpN3l0AnrZ2zb/bU1B1MY4MBsps6hi3e0kDazf5nBBgK7yfIRp8jgGjf2PKoZJDFCXk2yLpuaDdRFvJi1cvTOjuP8sG7jUgNCT+GG1e+PQ5L44OY9KFLaQe7j+K+uUPtLJ2m6qENRNRuoy+hB8wkKZhZmGnq3L3Swbw9Zb+ETuxjbM3P4nMEMHrII35O8gwc0oY/5BB9edAmLQyjGeEUJV9BjniH8SORNXOANNV2w9PUY3NP/QIN/4Fub7GCeY32HYdzhEQNtWBU615sDI9oQ7NaeV7YAAAAASUVORK5CYII="},"3tdJ":function(e,t){},"4Hy4":function(e,t){e.exports={pending:"To be treated",processing:"In the process of processing",processed:"Already processed",fail:"There is no matched result"}},"991W":function(e,t){},BLCb:function(e,t){e.exports="data:image/png;base64,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"},EKNR:function(e,t){},GS8r:function(e,t){},LHsB:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAATRJREFUOBHNVKFuAkEQvYOKKgR1CARf0H9osFgctiTofgYeXVJ76sAQfgWB5hAYcNv3ru+RDeGSI5zoJG9ndubt3N7M7iYhhB6QA2fAcoAxB9qJhLZ8BbSFa7i2l8hw4FbPokSz22A0z5nIO3mH3RG+RMqiRJl8jJnHNZTzC4ivIu/SND3RRmAvn2Oc2t5HvJ15LRlPK+7oCHSBz2gnI2UupKlsj8Czuy+j4G+wO1Uy9AoQhlUk+OcpBrZ4CnwArgO//o1abKCvwmSYTIA3OS/QW2Ch+T9Szf0aCwVUSe1is2u+OzyxY+FHmZeuHuZL+RgzzzegbL/ioRMtIpGyjnzrP1cYRz5elVIaPdk8Czw/A6T23fGJZcxiuw+edz9Q8MIarcq93R8eekbuPWxsALtZ+2H7BXV+RVvTfFR4AAAAAElFTkSuQmCC"},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("//Fk"),o=a.n(s),n=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},r=a("VU/8")({name:"App"},i,!1,null,null,null).exports,l=a("/ocq"),c={username:[{required:!0,message:"The username can not be empty",trigger:"blur"}],password:[{required:!0,message:"The password can not be empty",trigger:"blur"}],identity:[{required:!0,message:"The identity can not be empty",trigger:"blur"}]},d={name:"login",computed:{rules:function(){return c}},data:function(){return{loading:!1,login:{username:"",password:""}}},methods:{Login:function(){var e=this;this.$refs.loginForm.validate(function(t){t?(e.loading=!0,e.$http.post("/session/login",e.login).then(function(t){e.loading=!1,sessionStorage.setItem("token",t.data.result.token),setTimeout(function(){e.$router.replace({name:"search"})},20)})):e.$Message.info({content:"Please use the correct username and password",duration:3})})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"loginBox"},[e._m(0),e._v(" "),a("div",{staticClass:"right"},[a("h2",[e._v("Log in")]),e._v(" "),a("div",{staticClass:"formBox"},[a("Form",{ref:"loginForm",attrs:{model:e.login,"label-position":"top",rules:e.rules}},[a("FormItem",{attrs:{label:"Username",prop:"username"}},[a("Input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.login.username,callback:function(t){e.$set(e.login,"username",t)},expression:"login.username"}})],1),e._v(" "),a("FormItem",{attrs:{label:"Password",prop:"password"}},[a("Input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1),e._v(" "),a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.Login}},[e._v("Log in")])],1)],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"left"},[this._v("\n      Hello, "),t("br"),this._v("\n      Welcome "),t("br"),this._v("\n      Back!\n    ")])}]};var h=a("VU/8")(d,u,!1,function(e){a("EKNR")},"data-v-29bff500",null).exports,p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"myHeader"},[t("span",{on:{click:this.linkToSearch}},[t("img",{staticClass:"face",attrs:{src:a("pnjB")}}),this._v("\n  Portrait Search\n  ")]),this._v(" "),t("span",{on:{click:this.linkToManege}},[t("img",{staticClass:"face",attrs:{src:a("LHsB")}}),this._v("\n  Library Management")])])},staticRenderFns:[]};var m={name:"face_seach",components:{MyHeader:a("VU/8")({name:"myHeader",methods:{linkToSearch:function(){this.$router.push({name:"search"})},linkToManege:function(){this.$router.push({name:"manege"})}}},p,!1,function(e){a("WQtN")},"data-v-9b8ec726",null).exports}},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"face_seach"},[t("MyHeader"),this._v(" "),t("router-view")],1)},staticRenderFns:[]},f=a("VU/8")(m,g,!1,null,null,null).exports,v={name:"searchResult",props:{dataList:{type:Array,default:function(){return[]}},totalResult:{type:String,default:function(){return"0"}}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"SearchResults"},[a("h3",{staticClass:"name"},[e._v("Search Results: "+e._s(e.totalResult))]),e._v(" "),"0"!==e.totalResult?a("div",{staticClass:"contentBox"},e._l(e.dataList,function(t,s){return a("div",{key:t.face_name+s,staticClass:"content"},[a("div",{staticClass:"imgBox"},[""!==t.photo_base64?a("img",{staticClass:"imgbase64",attrs:{src:t.photo_base64}}):a("div",{staticClass:"zoomImage",style:{backgroundImage:"url("+t.url+")"}})]),e._v(" "),a("h3",{staticClass:"itemName no-wrap"},[e._v(e._s(t.face_name))]),e._v(" "),a("span",{staticClass:"similar"},[e._v("similarity")]),e._v(" "),a("span",{staticClass:"similarNumber"},[e._v(e._s(t.similarity.toFixed(2))+"%")])])})):e._e()])},staticRenderFns:[]};var C=a("VU/8")(v,A,!1,function(e){a("GS8r")},"data-v-2325c422",null).exports,R=a("4Hy4"),y=a.n(R),w={name:"Search",components:{SearchResults:C},data:function(){return{showMessage:"",loading:!1,totalResult:"",queryToken:"",threshold:70,limit:10,showTop:!0,dataList:[],dataUrl:""}},methods:{chechInfo:function(){return this.threshold?this.limit?!!this.dataUrl||(this.$Notice.info({title:"image is empty",desc:"Please upload image",duration:7}),!1):(this.$Notice.info({title:"range error",desc:"Please use the correct range",duration:7}),!1):(this.$Notice.info({title:"threshold error",desc:"Please use the correct threshold",duration:7}),!1)},search_timer_msg:function(e){this.showMessage=y.a[e]+" !!!"},search_timer_query:function(){var e=this,t=setTimeout(function(){e.search_query_token(),t&&clearTimeout(t)},2e3)},search_query_token:function(){var e=this;this.$http.get("/query/"+this.queryToken).then(function(t){e.dataList=[],e.loading=!0,e.showMessage="",e.totalResult=String(0),console.log(t),"processed"===t.data.status?(e.dataList=t.data.result,e.totalResult=String(t.data.total),e.showTop=!1,e.loading=!1):"fail"===t.data.status?(e.search_timer_msg(t.data.status),e.loading=!1):(e.search_timer_msg(t.data.status),e.search_timer_query())}).catch(function(t){e.$Notice.error({title:"Search error",desc:t.message,duration:7}),e.loading=!1})},search:function(){var e=this;this.chechInfo()&&this.$http.post("/query",{photo:this.dataUrl,threshold:this.threshold,limit:this.limit}).then(function(t){e.queryToken=t.data.result.query_token,e.search_query_token()}).catch(function(t){e.$Notice.error({title:"Search error",desc:t.message,duration:7}),e.loading=!1})},handleUpload:function(e){var t=this,a=new FileReader;a.readAsDataURL(e),a.onloadend=function(){t.dataUrl=a.result}},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png.",duration:7});var t=this,a=setTimeout(function(){t.dataUrl="",a&&clearTimeout(a)},30)},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+e.name+" is too large, no more than 3M.",duration:10});var t=this,a=setTimeout(function(){t.dataUrl="",a&&clearTimeout(a)},300)}}},N={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showTop,expression:"showTop"}],staticClass:"searchBoxTop"}),e._v(" "),s("div",{staticClass:"searchBox"},[s("div",{staticClass:"searchDetail"},[s("div",{staticClass:"imgBox"},[e.dataUrl?e._e():s("Upload",{staticClass:"upload",attrs:{"before-upload":e.handleUpload,type:"drag",format:["jpg","png"],"on-format-error":e.handleFormatError,"max-size":3072,"on-exceeded-size":e.handleMaxSize,"show-upload-list":!1,action:""}},[s("div",{staticClass:"uploadIcon"},[s("img",{attrs:{src:a("BLCb")}})])]),e._v(" "),e.dataUrl?s("img",{staticClass:"upImg",attrs:{src:e.dataUrl}}):e._e()],1),e._v(" "),s("div",{staticClass:"upBtn"},[s("Upload",{staticClass:"upload",attrs:{"before-upload":e.handleUpload,type:"drag",format:["jpg","png"],"on-format-error":e.handleFormatError,"max-size":3072,"on-exceeded-size":e.handleMaxSize,action:""}},[s("div",{staticClass:"uploadIcon"},[e._v("\n                "+e._s(e.dataUrl?"Re - Upload":"Please Upload a Portrait Photo")+"\n            ")])])],1),e._v(" "),s("div",{staticClass:"searchBtn"},[s("label",{attrs:{for:"Threshold"}},[e._v("\n            Search Threshold:\n          ")]),e._v(" "),s("InputNumber",{staticClass:"inputNumber",attrs:{name:"Threshold",max:100,min:70,placeholder:"70~100"},model:{value:e.threshold,callback:function(t){e.threshold=t},expression:"threshold"}}),s("span",{staticClass:"percent"},[e._v("%")]),e._v(" "),s("label",{attrs:{for:"Range"}},[e._v("\n            Return Range:\n          ")]),e._v(" "),s("InputNumber",{staticClass:"inputNumber",attrs:{name:"Range",max:200,min:1,placeholder:"1~200"},model:{value:e.limit,callback:function(t){e.limit=t},expression:"limit"}}),e._v(" "),s("Button",{staticClass:"searchbtn",attrs:{type:"primary",loading:e.loading},on:{click:e.search}},[e._v("Search")])],1),e._v(" "),e.showMessage?s("div",{staticClass:"showMessage"},[e._v(e._s(e.showMessage))]):e._e()]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.showTop,expression:"!showTop"}]},[s("SearchResults",{attrs:{dataList:e.dataList,totalResult:e.totalResult}})],1)])])},staticRenderFns:[]};var b=a("VU/8")(w,N,!1,function(e){a("3tdJ")},"data-v-0215ffd6",null).exports,B={name:"manege",computed:{rules:function(){return c}},data:function(){var e=this;return{loading:!1,timer:"",modal_loading:!1,addPeople:{username:"",photo:"",identity:"",gender:1},addPeopleModal:!1,dataUrl:"",total:0,pageSize:10,pageIndex:1,ID:"",name:"",manageList:[],columns:[{title:"ID",key:"id",align:"center"},{title:"Name",key:"person",align:"center"},{title:"Photo",key:"photo",className:"zoomImage",align:"center",render:function(e,t){return e("div",[e("img",{attrs:{src:t.row.photo_base64||t.row.photo},style:{width:"auto",height:"90px",marginTop:"5px"}})])}},{title:"Delete",key:"action",align:"center",render:function(t,a){return t("Icon",{props:{type:"trash-a"},style:{fontSize:"30px",cursor:"pointer"},on:{click:function(){console.log("delete:"+a.row.id),e.$http.delete("/faces/"+a.row.id).then(function(t){e.$Notice.success({title:"delete",desc:"delete success",duration:7}),e.manageList=e.remove(e.manageList,a.row.id),e.total=e.total-1,e.searchList()})}}})}}]}},methods:{remove:function(e,t){return e.filter(function(e){return e.id!==t})},addPeopleCancel:function(){this.addPeopleModal=!1,this.addPeople.username="",this.addPeople.photo="",this.addPeople.identity="",this.addPeople.gender=0},addPeopleOk:function(){var e=this;this.$refs.addPeopleForm.validate(function(t){t?(e.timer&&clearTimeout(e.timer),e.modal_loading=!0,e.$http.post("/faces",{name:e.addPeople.username,photo:e.addPeople.photo,identity:e.addPeople.identity,gender:e.addPeople.gender}).then(function(t){console.log(t),e.total=1,e.manageList=[t.data.result]}),e.timer=setTimeout(function(){e.modal_loading=!1,e.addPeopleCancel()},500)):e.$Notice.error({title:"username",desc:"Please use the correct username",duration:7})})},handleUpload:function(e){var t=this;t.addPeople.username=e.name.split(".")[0];var a=new FileReader;a.readAsDataURL(e),a.onloadend=function(){t.addPeople.photo=a.result,t.addPeopleModal=!0}},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png.",duration:7});var t=this,a=setTimeout(function(){t.addPeopleModal=!1,a&&clearTimeout(a)},20)},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+e.name+" is too large, no more than 3M.",duration:10});var t=this,a=setTimeout(function(){t.addPeopleModal=!1,a&&clearTimeout(a)},200)},checkInfo:function(){return""!==this.name||""!==this.ID||(this.$Notice.info({title:"search error",desc:"Please enter the search conditions",duration:7}),this.manageList=[],!1)},searchList:function(){var e=this;this.checkInfo()&&(this.loading=!0,this.$http.get("/faces?page="+this.pageIndex+"&pageSize="+this.pageSize+"&name="+this.name+"&id="+this.ID).then(function(t){console.log(t),e.loading=!1,e.total=t.data.total,e.manageList=t.data.result,0===t.data.result.length&&e.$Notice.info({title:"result nothing",desc:"No matching item",duration:7})}).catch(function(t){e.$Notice.error({title:"result error",desc:t.message,duration:7}),e.loading=!1}))},pageChange:function(e){this.pageIndex=e,this.searchList()},pageSizeChange:function(e){this.pageSize=e,this.searchList()}}},P={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"manege"},[s("div",{staticClass:"manegeBox"},[s("div",{staticClass:"top"},[s("span",[e._v("Bottom Library ID： ")]),e._v(" "),s("Input",{staticClass:"inputId",attrs:{placeholder:"Please Enter ID"},model:{value:e.ID,callback:function(t){e.ID=t},expression:"ID"}}),e._v(" "),s("span",[e._v("Name： ")]),e._v(" "),s("Input",{staticClass:"inputIdName",attrs:{placeholder:"Please Enter Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("Button",{staticClass:"searchBtn",attrs:{type:"primary",icon:"ios-search",loading:e.loading},on:{click:e.searchList}},[e._v("Search")]),e._v(" "),s("div",{staticClass:"addBtn"},[s("Upload",{staticClass:"addUpload",attrs:{"before-upload":e.handleUpload,type:"drag",format:["jpg","png"],"on-format-error":e.handleFormatError,"max-size":3072,"on-exceeded-size":e.handleMaxSize,action:""}},[s("Button",{attrs:{type:"success"}},[s("img",{attrs:{src:a("2O+V")}}),e._v("\n                 Add People ")])],1)],1)],1),e._v(" "),s("div",{staticClass:"table"},[s("Table",{attrs:{stripe:"",columns:e.columns,data:e.manageList,"no-data-text":"No Data"}})],1),e._v(" "),s("div",{staticClass:"page"},[s("Page",{attrs:{total:e.total,"page-size":e.pageSize,placement:"top",size:"small","show-total":""},on:{"on-change":e.pageChange,"on-page-size-change":e.pageSizeChange}},[e._v("\n          Total: "+e._s(e.total)+"\n        ")])],1)]),e._v(" "),s("Modal",{attrs:{title:"add people","class-name":"vertical-center-modal",width:"350","mask-closable":!1},model:{value:e.addPeopleModal,callback:function(t){e.addPeopleModal=t},expression:"addPeopleModal"}},[s("Form",{ref:"addPeopleForm",attrs:{model:e.addPeople,rules:e.rules,inline:"","label-width":90}},[s("FormItem",{attrs:{prop:"username",label:"Username"}},[s("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"Please enter Username"},model:{value:e.addPeople.username,callback:function(t){e.$set(e.addPeople,"username",t)},expression:"addPeople.username"}})],1),e._v(" "),s("FormItem",{attrs:{label:"Identity"}},[s("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"Please enter Identity"},model:{value:e.addPeople.identity,callback:function(t){e.$set(e.addPeople,"identity",t)},expression:"addPeople.identity"}})],1),e._v(" "),s("div",[s("FormItem",{attrs:{label:"Radio"}},[s("RadioGroup",{model:{value:e.addPeople.gender,callback:function(t){e.$set(e.addPeople,"gender",t)},expression:"addPeople.gender"}},[s("Radio",{attrs:{label:1}},[e._v("Male")]),e._v(" "),s("Radio",{attrs:{label:0}},[e._v("Female")])],1)],1)],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:e.addPeopleCancel}},[e._v("Cancel")]),e._v(" "),s("Button",{staticStyle:{width:"80px"},attrs:{type:"primary",size:"small",loading:e.modal_loading},on:{click:e.addPeopleOk}},[e._v(" Ok ")])],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(B,P,!1,function(e){a("g/pG")},"data-v-79b1cb0a",null).exports;n.default.use(l.a);var F=new l.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:h},{path:"/face_seach",name:"face_seach",component:f,children:[{path:"search",name:"search",component:b},{path:"manege",name:"manege",component:x}]}],scrollBehavior:function(e,t,a){return{x:0,y:0}}}),S=a("mtWM"),U=a.n(S),I=a("BTaQ"),_=a.n(I);a("991W"),a("+skl");n.default.use(_.a),n.default.config.productionTip=!1,F.beforeEach(function(e,t,a){_.a.LoadingBar.start(),"login"!==e.name?sessionStorage.getItem("token")?a():(F.replace({name:"login"}),a()):a(),_.a.LoadingBar.finish()}),F.afterEach(function(){_.a.LoadingBar.finish(),window.scrollTo(0,0)});var T=U.a.create({baseURL:"/api/v1"});T.interceptors.request.use(function(e){var t=sessionStorage.getItem("token");return t&&(e.headers={token:t}),e},function(e){return o.a.reject(e)}),T.interceptors.response.use(function(e){if(403!==e.data.code)return 200!==e.data.code?(_.a.Notice.error({title:"request error",desc:""+e.data.result||""+e.result,duration:7}),!1):e;_.a.Notice.error({title:"request error",desc:""+e.data.result,duration:7}),this.$router.replace({name:"login"})}),n.default.prototype.$http=T,new n.default({el:"#app",router:F,components:{App:r},template:"<App/>"})},WQtN:function(e,t){},"g/pG":function(e,t){},pnjB:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAATpJREFUOBGtlD1Ow0AQhb0RdQqkFJHo0lFzgRQ0nIDUKOfhCpThACmpE2puAFVS8tMhme9Zu6vkbRxHxCONPPPem9lZ79pVXdoaaFB1GJplWVqPOgs7+pZ0WqVkTkfosY19+p9QW97iG5+HFQM+x/VOv6IrFhZMr/of/LuCnMh3BeRj/AVvM3HjVEN8hV+nfO8JoclSsw/iGa4F5IqFyaTxSfd6NQkibUmmwktXCIscj3rufJEj0nuSzQoyAuIaBVrXaHtLwDsn/pk/93+xfRImPmvL3k/XqPdDOe/a6FDiweRpyXXn0l0kLMwv9hOKFT7QFhvL3WIAePKnhzb/HFob+gLH8t2GF0kIuIjxawjhMeFtT/QPcLeRH2YdhJv+LHmhLLQAzbsXko9UeG/aNyb8NexQOgW8MeLzD7z0BOcBYXdWAAAAAElFTkSuQmCC"}},["NHnr"]);
//# sourceMappingURL=app.3229f25f40f6ed834631.js.map